"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{5085:function(e,t,n){n.d(t,{GH:function(){return B},KK:function(){return en},NI:function(){return eo},XI:function(){return L},YF:function(){return ee},bQ:function(){return $},wD:function(){return z},xp:function(){return el}});var r,o=n(2265),u=n(6599),l=n(7437),i=n(4046),c=n(7572);n(4887);var f=n(8118);let s="active",a="selected",d={...r||(r=n.t(o,2))},v=!1,m=0,p=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+m++,g=d.useId||function(){let[e,t]=o.useState(()=>v?p():void 0);return(0,u.Xj)(()=>{null==e&&t(p())},[]),o.useEffect(()=>{v=!0},[]),e},h=o.createContext(null),E=o.createContext(null),b=()=>{var e;return(null==(e=o.useContext(h))?void 0:e.id)||null},R=()=>o.useContext(E);function y(e){return"data-floating-ui-"+e}function w(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}let x=y("safe-polygon");function k(e,t,n){if(n&&!(0,u.r)(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){let n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function M(e){return"function"==typeof e?e():e}function L(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,dataRef:l,events:c,elements:f}=e,{enabled:s=!0,delay:a=0,handleClose:d=null,mouseOnly:v=!1,restMs:m=0,move:p=!0}=t,g=R(),h=b(),E=(0,u.II)(d),y=(0,u.II)(a),L=(0,u.II)(n),C=(0,u.II)(m),A=o.useRef(),W=o.useRef(-1),K=o.useRef(),I=o.useRef(-1),T=o.useRef(!0),j=o.useRef(!1),P=o.useRef(()=>{}),S=o.useRef(!1),X=o.useCallback(()=>{var e;let t=null==(e=l.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t},[l]);o.useEffect(()=>{if(s)return c.on("openchange",e),()=>{c.off("openchange",e)};function e(e){let{open:t}=e;t||(w(W),w(I),T.current=!0,S.current=!1)}},[s,c]),o.useEffect(()=>{if(!s||!E.current||!n)return;function e(e){X()&&r(!1,e,"hover")}let t=(0,u.Me)(f.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[f.floating,n,r,s,E,X]);let N=o.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");let o=k(y.current,"close",A.current);o&&!K.current?(w(W),W.current=window.setTimeout(()=>r(!1,e,n),o)):t&&(w(W),r(!1,e,n))},[y,r]),_=(0,u.iW)(()=>{P.current(),K.current=void 0}),q=(0,u.iW)(()=>{if(j.current){let e=(0,u.Me)(f.floating).body;e.style.pointerEvents="",e.removeAttribute(x),j.current=!1}}),D=(0,u.iW)(()=>!!l.current.openEvent&&["click","mousedown"].includes(l.current.openEvent.type));o.useEffect(()=>{if(s&&(0,i.kK)(f.domReference)){let r=f.domReference,u=f.floating;return n&&r.addEventListener("mouseleave",o),p&&r.addEventListener("mousemove",e,{once:!0}),r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),u&&(u.addEventListener("mouseleave",o),u.addEventListener("mouseenter",c),u.addEventListener("mouseleave",a)),()=>{n&&r.removeEventListener("mouseleave",o),p&&r.removeEventListener("mousemove",e),r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t),u&&(u.removeEventListener("mouseleave",o),u.removeEventListener("mouseenter",c),u.removeEventListener("mouseleave",a))}}function e(e){if(w(W),T.current=!1,v&&!(0,u.r)(A.current)||M(C.current)>0&&!k(y.current,"open"))return;let t=k(y.current,"open",A.current);t?W.current=window.setTimeout(()=>{L.current||r(!0,e,"hover")},t):n||r(!0,e,"hover")}function t(e){if(D()){q();return}P.current();let t=(0,u.Me)(f.floating);if(w(I),S.current=!1,E.current&&l.current.floatingContext){n||w(W),K.current=E.current({...l.current.floatingContext,tree:g,x:e.clientX,y:e.clientY,onClose(){q(),_(),D()||N(e,!0,"safe-polygon")}});let r=K.current;t.addEventListener("mousemove",r),P.current=()=>{t.removeEventListener("mousemove",r)};return}"touch"===A.current&&(0,u.r3)(f.floating,e.relatedTarget)||N(e)}function o(e){!D()&&l.current.floatingContext&&(null==E.current||E.current({...l.current.floatingContext,tree:g,x:e.clientX,y:e.clientY,onClose(){q(),_(),D()||N(e)}})(e))}function c(){w(W)}function a(e){D()||N(e,!1)}},[f,s,e,v,p,N,_,q,r,n,L,g,y,E,l,D,C]),(0,u.Xj)(()=>{var e,t;if(s&&n&&null!=(e=E.current)&&e.__options.blockPointerEvents&&X()){j.current=!0;let e=f.floating;if((0,i.kK)(f.domReference)&&e){let n=(0,u.Me)(f.floating).body;n.setAttribute(x,"");let r=f.domReference,o=null==g||null==(t=g.nodesRef.current.find(e=>e.id===h))||null==(t=t.context)?void 0:t.elements.floating;return o&&(o.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}},[s,n,h,f,g,E,X]),(0,u.Xj)(()=>{n||(A.current=void 0,S.current=!1,_(),q())},[n,_,q]),o.useEffect(()=>()=>{_(),w(W),w(I),q()},[s,f.domReference,_,q]);let O=o.useMemo(()=>{function e(e){A.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){let{nativeEvent:t}=e;function o(){T.current||L.current||r(!0,t,"hover")}!(!v||(0,u.r)(A.current))||n||0===M(C.current)||S.current&&e.movementX**2+e.movementY**2<2||(w(I),"touch"===A.current?o():(S.current=!0,I.current=window.setTimeout(o,M(C.current))))}}},[v,r,n,L,C]);return o.useMemo(()=>s?{reference:O}:{},[s,O])}let C=0;function A(e,t){void 0===t&&(t={});let{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(C);let u=()=>null==e?void 0:e.focus({preventScroll:n});o?u():C=requestAnimationFrame(u)}function W(e,t){if(!e||!t)return!1;let n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,i.Zq)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}let K=new WeakMap,I=new WeakSet,T={},j=0,P=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,S=e=>e&&(e.host||S(e.parentNode)),X=(e,t)=>t.map(t=>{if(e.contains(t))return t;let n=S(t);return e.contains(n)?n:null}).filter(e=>null!=e);function N(e,t,n){var r;void 0===t&&(t=!1),void 0===n&&(n=!1);let o=((null==(r=e[0])?void 0:r.ownerDocument)||document).body;return function(e,t,n,r){let o="data-floating-ui-inert",u=r?"inert":n?"aria-hidden":null,l=X(t,e),c=new Set,f=new Set(l),s=[];T[o]||(T[o]=new WeakMap);let a=T[o];return l.forEach(function e(t){!(!t||c.has(t))&&(c.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||f.has(t)||[].forEach.call(t.children,t=>{if("script"!==(0,i.wk)(t)){if(c.has(t))e(t);else{let e=u?t.getAttribute(u):null,n=null!==e&&"false"!==e,r=K.get(t)||0,l=u?r+1:r,i=(a.get(t)||0)+1;K.set(t,l),a.set(t,i),s.push(t),1===l&&n&&I.add(t),1===i&&t.setAttribute(o,""),!n&&u&&t.setAttribute(u,"inert"===u?"":"true")}}})}(t),c.clear(),j++,()=>{s.forEach(e=>{let t=K.get(e)||0,n=u?t-1:t,r=(a.get(e)||0)-1;K.set(e,n),a.set(e,r),n||(!I.has(e)&&u&&e.removeAttribute(u),I.delete(e)),r||e.removeAttribute(o)}),--j||(K=new WeakMap,K=new WeakMap,I=new WeakSet,T={})}}(e.concat(Array.from(o.querySelectorAll("[aria-live]"))),o,t,n)}let _={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},q=o.forwardRef(function(e,t){let[n,r]=o.useState();(0,u.Xj)(()=>{(0,u.G6)()&&r("button")},[]);let i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[y("focus-guard")]:"",style:_};return(0,l.jsx)("span",{...e,...i})}),D=o.createContext(null),O=y("portal");function B(e){void 0===e&&(e={});let{id:t,root:n}=e,r=g(),l=F(),[c,f]=o.useState(null),s=o.useRef(null);return(0,u.Xj)(()=>()=>{null==c||c.remove(),queueMicrotask(()=>{s.current=null})},[c]),(0,u.Xj)(()=>{if(!r||s.current)return;let e=t?document.getElementById(t):null;if(!e)return;let n=document.createElement("div");n.id=r,n.setAttribute(O,""),e.appendChild(n),s.current=n,f(n)},[t,r]),(0,u.Xj)(()=>{if(null===n||!r||s.current)return;let e=n||(null==l?void 0:l.portalNode);e&&!(0,i.kK)(e)&&(e=e.current),e=e||document.body;let o=null;t&&((o=document.createElement("div")).id=t,e.appendChild(o));let u=document.createElement("div");u.id=r,u.setAttribute(O,""),(e=o||e).appendChild(u),s.current=u,f(u)},[t,n,r,l]),c}let F=()=>o.useContext(D);function U(e){return o.useMemo(()=>t=>{e.forEach(e=>{e&&(e.current=t)})},e)}let Y=[];function H(){return Y.slice().reverse().find(e=>e.isConnected)}function G(e,t){var n;if(!t.current.includes("floating")&&!(null!=(n=e.getAttribute("role"))&&n.includes("dialog")))return;let r=(0,u.Tv)(),o=(0,c.KW)(e,r).filter(e=>{let t=e.getAttribute("data-tabindex")||"";return(0,c.Wq)(e,r)||e.hasAttribute("data-tabindex")&&!t.startsWith("-")}),l=e.getAttribute("tabindex");t.current.includes("floating")||0===o.length?"0"!==l&&e.setAttribute("tabindex","0"):("-1"!==l||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}let V=o.forwardRef(function(e,t){return(0,l.jsx)("button",{...e,type:"button",ref:t,tabIndex:-1,style:_})});function z(e){let{context:t,children:n,disabled:r=!1,order:f=["content"],guards:s=!0,initialFocus:a=0,returnFocus:d=!0,restoreFocus:v=!1,modal:m=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:g=!0,outsideElementsInert:h=!1,getInsideElements:E=()=>[]}=e,{open:b,onOpenChange:w,events:x,dataRef:k,elements:{domReference:M,floating:L}}=t,C=(0,u.iW)(()=>{var e;return null==(e=k.current.floatingContext)?void 0:e.nodeId}),W=(0,u.iW)(E),K="number"==typeof a&&a<0,I=(0,u.Ie)(M)&&K,T=P(),j=!T||s,S=!j||T&&h,X=(0,u.II)(f),D=(0,u.II)(a),O=(0,u.II)(d),B=R(),z=F(),Z=o.useRef(null),J=o.useRef(null),Q=o.useRef(!1),$=o.useRef(!1),ee=o.useRef(-1),et=null!=z,en=(0,u.zd)(L),er=(0,u.iW)(function(e){return void 0===e&&(e=en),e?(0,c.ht)(e,(0,u.Tv)()):[]}),eo=(0,u.iW)(e=>{let t=er(e);return X.current.map(e=>M&&"reference"===e?M:en&&"floating"===e?en:t).filter(Boolean).flat()});o.useEffect(()=>{if(r||!m)return;function e(e){if("Tab"===e.key){(0,u.r3)(en,(0,u.AW)((0,u.Me)(en)))&&0===er().length&&!I&&(0,u.p7)(e);let t=eo(),n=(0,u.U9)(e);"reference"===X.current[0]&&n===M&&((0,u.p7)(e),e.shiftKey?A(t[t.length-1]):A(t[1])),"floating"===X.current[1]&&n===en&&e.shiftKey&&((0,u.p7)(e),A(t[0]))}}let t=(0,u.Me)(en);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,M,en,m,X,I,er,eo]),o.useEffect(()=>{if(!r&&L)return L.addEventListener("focusin",e),()=>{L.removeEventListener("focusin",e)};function e(e){let t=(0,u.U9)(e),n=er().indexOf(t);-1!==n&&(ee.current=n)}},[r,L,er]),o.useEffect(()=>{if(!r&&g&&L&&(0,i.Re)(M))return M.addEventListener("focusout",t),M.addEventListener("pointerdown",e),L.addEventListener("focusout",t),()=>{M.removeEventListener("focusout",t),M.removeEventListener("pointerdown",e),L.removeEventListener("focusout",t)};function e(){$.current=!0,setTimeout(()=>{$.current=!1})}function t(e){let t=e.relatedTarget,n=e.currentTarget;queueMicrotask(()=>{let r=C(),o=!((0,u.r3)(M,t)||(0,u.r3)(L,t)||(0,u.r3)(t,L)||(0,u.r3)(null==z?void 0:z.portalNode,t)||null!=t&&t.hasAttribute(y("focus-guard"))||B&&((0,u.El)(B.nodesRef.current,r).find(e=>{var n,r;return(0,u.r3)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,u.r3)(null==(r=e.context)?void 0:r.elements.domReference,t)})||(0,u.C1)(B.nodesRef.current,r).find(e=>{var n,r,o;return[null==(n=e.context)?void 0:n.elements.floating,(0,u.zd)(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(o=e.context)?void 0:o.elements.domReference)===t})));if(n===M&&en&&G(en,X),v&&o&&(0,u.AW)((0,u.Me)(en))===(0,u.Me)(en).body){(0,i.Re)(en)&&en.focus();let e=ee.current,t=er(),n=t[e]||t[t.length-1]||en;(0,i.Re)(n)&&n.focus()}(I||!m)&&t&&o&&!$.current&&t!==H()&&(Q.current=!0,w(!1,e,"focus-out"))})}},[r,M,L,en,m,B,z,w,g,v,er,I,C,X]);let eu=o.useRef(null),el=o.useRef(null),ei=U([eu,null==z?void 0:z.beforeInsideRef]),ec=U([el,null==z?void 0:z.afterInsideRef]);function ef(e){return!r&&p&&m?(0,l.jsx)(V,{ref:"start"===e?Z:J,onClick:e=>w(!1,e.nativeEvent),children:"string"==typeof p?p:"Dismiss"}):null}o.useEffect(()=>{var e,t;if(r||!L)return;let n=Array.from((null==z||null==(e=z.portalNode)?void 0:e.querySelectorAll("["+y("portal")+"]"))||[]),o=B?(0,u.C1)(B.nodesRef.current,C()):[],l=B&&!m?o.map(e=>{var t;return null==(t=e.context)?void 0:t.elements.floating}):[],i=[L,null==(t=o.find(e=>{var t;return(0,u.Ie)((null==(t=e.context)?void 0:t.elements.domReference)||null)}))||null==(t=t.context)?void 0:t.elements.domReference,...n,...l,...W(),Z.current,J.current,eu.current,el.current,null==z?void 0:z.beforeOutsideRef.current,null==z?void 0:z.afterOutsideRef.current,X.current.includes("reference")||I?M:null].filter(e=>null!=e),c=m||I?N(i,!S,S):N(i);return()=>{c()}},[r,M,L,m,X,z,I,j,S,B,C,W]),(0,u.Xj)(()=>{if(r||!(0,i.Re)(en))return;let e=(0,u.Me)(en),t=(0,u.AW)(e);queueMicrotask(()=>{let e=eo(en),n=D.current,r=("number"==typeof n?e[n]:n.current)||en,o=(0,u.r3)(en,t);K||o||!b||A(r,{preventScroll:r===en})})},[r,b,en,K,eo,D]),(0,u.Xj)(()=>{var e;if(r||!en)return;let t=!1,n=(0,u.Me)(en);function o(e){let{reason:n,event:r,nested:o}=e;if(["hover","safe-polygon"].includes(n)&&"mouseleave"===r.type&&(Q.current=!0),"outside-press"===n){if(o)Q.current=!1,t=!0;else if((0,u.Zj)(r)||(0,u.cr)(r))Q.current=!1;else{let e=!1;document.createElement("div").focus({get preventScroll(){return e=!0,!1}}),e?(Q.current=!1,t=!0):Q.current=!0}}}e=(0,u.AW)(n),Y=Y.filter(e=>e.isConnected),e&&"body"!==(0,i.wk)(e)&&(Y.push(e),Y.length>20&&(Y=Y.slice(-20))),x.on("openchange",o);let l=n.createElement("span");return l.setAttribute("tabindex","-1"),l.setAttribute("aria-hidden","true"),Object.assign(l.style,_),et&&M&&M.insertAdjacentElement("afterend",l),()=>{x.off("openchange",o);let e=(0,u.AW)(n),r=(0,u.r3)(L,e)||B&&(0,u.El)(B.nodesRef.current,C()).some(t=>{var n;return(0,u.r3)(null==(n=t.context)?void 0:n.elements.floating,e)}),f=function(){if("boolean"==typeof O.current){let e=M||H();return e&&e.isConnected?e:l}return O.current.current||l}();queueMicrotask(()=>{let o=function(e){let t=(0,u.Tv)();return(0,c.Wq)(e,t)?e:(0,c.ht)(e,t)[0]||e}(f);O.current&&!Q.current&&(0,i.Re)(o)&&(o===e||e===n.body||r)&&o.focus({preventScroll:t}),l.remove()})}},[r,L,en,O,k,x,B,et,M,C]),o.useEffect(()=>{queueMicrotask(()=>{Q.current=!1})},[r]),(0,u.Xj)(()=>{if(!r&&z)return z.setFocusManagerState({modal:m,closeOnFocusOut:g,open:b,onOpenChange:w,domReference:M}),()=>{z.setFocusManagerState(null)}},[r,z,m,b,w,g,M]),(0,u.Xj)(()=>{!r&&en&&G(en,X)},[r,en,X]);let es=!r&&j&&(!m||!I)&&(et||m);return(0,l.jsxs)(l.Fragment,{children:[es&&(0,l.jsx)(q,{"data-type":"inside",ref:ei,onFocus:e=>{if(m){let e=eo();A("reference"===f[0]?e[0]:e[e.length-1])}else if(null!=z&&z.preserveTabOrder&&z.portalNode){if(Q.current=!1,(0,u.dE)(e,z.portalNode)){let e=(0,u.k0)(M);null==e||e.focus()}else{var t;null==(t=z.beforeOutsideRef.current)||t.focus()}}}}),!I&&ef("start"),n,ef("end"),es&&(0,l.jsx)(q,{"data-type":"inside",ref:ec,onFocus:e=>{if(m)A(eo()[0]);else if(null!=z&&z.preserveTabOrder&&z.portalNode){if(g&&(Q.current=!0),(0,u.dE)(e,z.portalNode)){let e=(0,u.e8)(M);null==e||e.focus()}else{var t;null==(t=z.afterOutsideRef.current)||t.focus()}}}})]})}let Z={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},J={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Q=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function $(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,elements:l,dataRef:c}=e,{enabled:f=!0,escapeKey:s=!0,outsidePress:a=!0,outsidePressEvent:d="pointerdown",referencePress:v=!1,referencePressEvent:m="pointerdown",ancestorScroll:p=!1,bubbles:g,capture:h}=t,E=R(),b=(0,u.iW)("function"==typeof a?a:()=>!1),w="function"==typeof a?b:a,x=o.useRef(!1),k=o.useRef(!1),{escapeKey:M,outsidePress:L}=Q(g),{escapeKey:C,outsidePress:A}=Q(h),W=o.useRef(!1),K=(0,u.iW)(e=>{var t;if(!n||!f||!s||"Escape"!==e.key||W.current)return;let o=null==(t=c.current.floatingContext)?void 0:t.nodeId,l=E?(0,u.El)(E.nodesRef.current,o):[];if(!M&&(e.stopPropagation(),l.length>0)){let e=!0;if(l.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}r(!1,(0,u.MM)(e)?e.nativeEvent:e,"escape-key")}),I=(0,u.iW)(e=>{var t;let n=()=>{var t;K(e),null==(t=(0,u.U9)(e))||t.removeEventListener("keydown",n)};null==(t=(0,u.U9)(e))||t.addEventListener("keydown",n)}),T=(0,u.iW)(e=>{var t;let n=x.current;x.current=!1;let o=k.current;if(k.current=!1,"click"===d&&o||n||"function"==typeof w&&!w(e))return;let f=(0,u.U9)(e),s="["+y("inert")+"]",a=(0,u.Me)(l.floating).querySelectorAll(s),v=(0,i.kK)(f)?f:null;for(;v&&!(0,i.Py)(v);){let e=(0,i.Ow)(v);if((0,i.Py)(e)||!(0,i.kK)(e))break;v=e}if(a.length&&(0,i.kK)(f)&&!(0,u.ex)(f)&&!(0,u.r3)(f,l.floating)&&Array.from(a).every(e=>!(0,u.r3)(v,e)))return;if((0,i.Re)(f)&&S){let t=(0,i.Py)(f),n=(0,i.Dx)(f),r=/auto|scroll/,o=t||r.test(n.overflowX),u=t||r.test(n.overflowY),l=o&&f.clientWidth>0&&f.scrollWidth>f.clientWidth,c=u&&f.clientHeight>0&&f.scrollHeight>f.clientHeight,s="rtl"===n.direction,a=c&&(s?e.offsetX<=f.offsetWidth-f.clientWidth:e.offsetX>f.clientWidth),d=l&&e.offsetY>f.clientHeight;if(a||d)return}let m=null==(t=c.current.floatingContext)?void 0:t.nodeId,p=E&&(0,u.El)(E.nodesRef.current,m).some(t=>{var n;return(0,u.Pe)(e,null==(n=t.context)?void 0:n.elements.floating)});if((0,u.Pe)(e,l.floating)||(0,u.Pe)(e,l.domReference)||p)return;let g=E?(0,u.El)(E.nodesRef.current,m):[];if(g.length>0){let e=!0;if(g.forEach(t=>{var n;if(null!=(n=t.context)&&n.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}r(!1,e,"outside-press")}),j=(0,u.iW)(e=>{var t;let n=()=>{var t;T(e),null==(t=(0,u.U9)(e))||t.removeEventListener(d,n)};null==(t=(0,u.U9)(e))||t.addEventListener(d,n)});o.useEffect(()=>{if(!n||!f)return;c.current.__escapeKeyBubbles=M,c.current.__outsidePressBubbles=L;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function o(){window.clearTimeout(e),W.current=!0}function a(){e=window.setTimeout(()=>{W.current=!1},(0,i.Pf)()?5:0)}let v=(0,u.Me)(l.floating);s&&(v.addEventListener("keydown",C?I:K,C),v.addEventListener("compositionstart",o),v.addEventListener("compositionend",a)),w&&v.addEventListener(d,A?j:T,A);let m=[];return p&&((0,i.kK)(l.domReference)&&(m=(0,i.Kx)(l.domReference)),(0,i.kK)(l.floating)&&(m=m.concat((0,i.Kx)(l.floating))),!(0,i.kK)(l.reference)&&l.reference&&l.reference.contextElement&&(m=m.concat((0,i.Kx)(l.reference.contextElement)))),(m=m.filter(e=>{var t;return e!==(null==(t=v.defaultView)?void 0:t.visualViewport)})).forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{s&&(v.removeEventListener("keydown",C?I:K,C),v.removeEventListener("compositionstart",o),v.removeEventListener("compositionend",a)),w&&v.removeEventListener(d,A?j:T,A),m.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[c,l,s,w,d,n,r,p,f,M,L,K,C,I,T,A,j]),o.useEffect(()=>{x.current=!1},[w,d]);let P=o.useMemo(()=>({onKeyDown:K,...v&&{[Z[m]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==m&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}}),[K,r,v,m]),S=o.useMemo(()=>({onKeyDown:K,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[J[d]]:()=>{x.current=!0}}),[K,d]);return o.useMemo(()=>f?{reference:P,floating:S}:{},[f,P,S])}function ee(e){void 0===e&&(e={});let{nodeId:t}=e,n=function(e){let{open:t=!1,onOpenChange:n,elements:r}=e,l=g(),i=o.useRef({}),[c]=o.useState(()=>(function(){let e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}})()),f=null!=b(),[s,a]=o.useState(r.reference),d=(0,u.iW)((e,t,r)=>{i.current.openEvent=e?t:void 0,c.emit("openchange",{open:e,event:t,reason:r,nested:f}),null==n||n(e,t,r)}),v=o.useMemo(()=>({setPositionReference:a}),[]),m=o.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return o.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:m,events:c,floatingId:l,refs:v}),[t,d,m,c,l,v])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,l=r.elements,[c,s]=o.useState(null),[a,d]=o.useState(null),v=(null==l?void 0:l.domReference)||c,m=o.useRef(null),p=R();(0,u.Xj)(()=>{v&&(m.current=v)},[v]);let h=(0,f.YF)({...e,elements:{...l,...a&&{reference:a}}}),E=o.useCallback(e=>{let t=(0,i.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(t),h.refs.setReference(t)},[h.refs]),y=o.useCallback(e=>{((0,i.kK)(e)||null===e)&&(m.current=e,s(e)),((0,i.kK)(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!(0,i.kK)(e))&&h.refs.setReference(e)},[h.refs]),w=o.useMemo(()=>({...h.refs,setReference:y,setPositionReference:E,domReference:m}),[h.refs,y,E]),x=o.useMemo(()=>({...h.elements,domReference:v}),[h.elements,v]),k=o.useMemo(()=>({...h,...r,refs:w,elements:x,nodeId:t}),[h,w,x,t,r]);return(0,u.Xj)(()=>{r.dataRef.current.floatingContext=k;let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=k)}),o.useMemo(()=>({...h,context:k,refs:w,elements:x}),[h,w,x,k])}function et(){return(0,u.V5)()&&(0,u.G6)()}function en(e,t){void 0===t&&(t={});let{open:n,onOpenChange:r,events:l,dataRef:c,elements:f}=e,{enabled:s=!0,visibleOnly:a=!0}=t,d=o.useRef(!1),v=o.useRef(-1),m=o.useRef(!0);o.useEffect(()=>{if(!s)return;let e=(0,i.Jj)(f.domReference);function t(){!n&&(0,i.Re)(f.domReference)&&f.domReference===(0,u.AW)((0,u.Me)(f.domReference))&&(d.current=!0)}function r(){m.current=!0}function o(){m.current=!1}return e.addEventListener("blur",t),et()&&(e.addEventListener("keydown",r,!0),e.addEventListener("pointerdown",o,!0)),()=>{e.removeEventListener("blur",t),et()&&(e.removeEventListener("keydown",r,!0),e.removeEventListener("pointerdown",o,!0))}},[f.domReference,n,s]),o.useEffect(()=>{if(s)return l.on("openchange",e),()=>{l.off("openchange",e)};function e(e){let{reason:t}=e;("reference-press"===t||"escape-key"===t)&&(d.current=!0)}},[l,s]),o.useEffect(()=>()=>{w(v)},[]);let p=o.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(e){if(d.current)return;let t=(0,u.U9)(e.nativeEvent);if(a&&(0,i.kK)(t)){if(et()&&!e.relatedTarget){if(!m.current&&!(0,u.j7)(t))return}else if(!(0,u.WL)(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){d.current=!1;let t=e.relatedTarget,n=e.nativeEvent,o=(0,i.kK)(t)&&t.hasAttribute(y("focus-guard"))&&"outside"===t.getAttribute("data-type");v.current=window.setTimeout(()=>{var e;let l=(0,u.AW)(f.domReference?f.domReference.ownerDocument:document);if(t||l!==f.domReference){if((0,u.r3)(null==(e=c.current.floatingContext)?void 0:e.refs.floating.current,l)||(0,u.r3)(f.domReference,l)||o)return;r(!1,n,"focus")}})}}),[c,f.domReference,r,a]);return o.useMemo(()=>s?{reference:p}:{},[s,p])}function er(e,t,n){let r=new Map,o="item"===n,u=e;if(o&&e){let{[s]:t,[a]:n,...r}=e;u=r}return{..."floating"===n&&{tabIndex:-1,"data-floating-ui-focusable":""},...u,...t.map(t=>{let r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,u]=t;if(!(o&&[s,a].includes(n))){if(0===n.indexOf("on")){if(r.has(n)||r.set(n,[]),"function"==typeof u){var l;null==(l=r.get(n))||l.push(u),e[n]=function(){for(var e,t=arguments.length,o=Array(t),u=0;u<t;u++)o[u]=arguments[u];return null==(e=r.get(n))?void 0:e.map(e=>e(...o)).find(e=>void 0!==e)}}}else e[n]=u}}),e),{})}}function eo(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),u=o.useCallback(t=>er(t,e,"reference"),t),l=o.useCallback(t=>er(t,e,"floating"),n),i=o.useCallback(t=>er(t,e,"item"),r);return o.useMemo(()=>({getReferenceProps:u,getFloatingProps:l,getItemProps:i}),[u,l,i])}function eu(e,t){let[n,r]=e,o=!1,u=t.length;for(let e=0,l=u-1;e<u;l=e++){let[u,i]=t[e]||[0,0],[c,f]=t[l]||[0,0];i>=r!=f>=r&&n<=(c-u)*(r-i)/(f-i)+u&&(o=!o)}return o}function el(e){let t;void 0===e&&(e={});let{buffer:n=.5,blockPointerEvents:r=!1,requireIntent:o=!0}=e,u=!1,l=null,c=null,f=performance.now(),s=e=>{let{x:r,y:s,placement:a,elements:d,onClose:v,nodeId:m,tree:p}=e;return function(e){function g(){clearTimeout(t),v()}if(clearTimeout(t),!d.domReference||!d.floating||null==a||null==r||null==s)return;let{clientX:h,clientY:E}=e,b=[h,E],R="composedPath"in e?e.composedPath()[0]:e.target,y="mouseleave"===e.type,w=W(d.floating,R),x=W(d.domReference,R),k=d.domReference.getBoundingClientRect(),M=d.floating.getBoundingClientRect(),L=a.split("-")[0],C=r>M.right-M.width/2,A=s>M.bottom-M.height/2,K=b[0]>=k.x&&b[0]<=k.x+k.width&&b[1]>=k.y&&b[1]<=k.y+k.height,I=M.width>k.width,T=M.height>k.height,j=(I?k:M).left,P=(I?k:M).right,S=(T?k:M).top,X=(T?k:M).bottom;if(w&&(u=!0,!y))return;if(x&&(u=!1),x&&!y){u=!0;return}if(y&&(0,i.kK)(e.relatedTarget)&&W(d.floating,e.relatedTarget)||p&&(function(e,t,n){void 0===n&&(n=!0);let r=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),o=r;for(;o.length;)o=n?e.filter(e=>{var t;return null==(t=o)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}):e,r=r.concat(o);return r})(p.nodesRef.current,m).some(e=>{let{context:t}=e;return null==t?void 0:t.open}))return;if("top"===L&&s>=k.bottom-1||"bottom"===L&&s<=k.top+1||"left"===L&&r>=k.right-1||"right"===L&&r<=k.left+1)return g();let N=[];switch(L){case"top":N=[[j,k.top+1],[j,M.bottom-1],[P,M.bottom-1],[P,k.top+1]];break;case"bottom":N=[[j,M.top+1],[j,k.bottom-1],[P,k.bottom-1],[P,M.top+1]];break;case"left":N=[[M.right-1,X],[M.right-1,S],[k.left+1,S],[k.left+1,X]];break;case"right":N=[[k.right-1,X],[k.right-1,S],[M.left+1,S],[M.left+1,X]]}if(!eu([h,E],N)){if(u&&!K)return g();if(!y&&o){let t=function(e,t){let n=performance.now(),r=n-f;if(null===l||null===c||0===r)return l=e,c=t,f=n,null;let o=e-l,u=t-c;return l=e,c=t,f=n,Math.sqrt(o*o+u*u)/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}eu([h,E],function(e){let[t,r]=e;switch(L){case"top":{let e=[[M.left,C?M.bottom-n:I?M.bottom-n:M.top],[M.right,C?I?M.bottom-n:M.top:M.bottom-n]];return[[I?t+n/2:C?t+4*n:t-4*n,r+n+1],[I?t-n/2:C?t+4*n:t-4*n,r+n+1],...e]}case"bottom":{let e=[[M.left,C?M.top+n:I?M.top+n:M.bottom],[M.right,C?I?M.top+n:M.bottom:M.top+n]];return[[I?t+n/2:C?t+4*n:t-4*n,r-n],[I?t-n/2:C?t+4*n:t-4*n,r-n],...e]}case"left":return[[A?M.right-n:T?M.right-n:M.left,M.top],[A?T?M.right-n:M.left:M.right-n,M.bottom],[t+n+1,T?r+n/2:A?r+4*n:r-4*n],[t+n+1,T?r-n/2:A?r+4*n:r-4*n]];case"right":{let e=[[A?M.left+n:T?M.left+n:M.right,M.top],[A?T?M.left+n:M.right:M.left+n,M.bottom]];return[[t-n,T?r+n/2:A?r+4*n:r-4*n],[t-n,T?r-n/2:A?r+4*n:r-4*n],...e]}}}([r,s]))?!u&&o&&(t=window.setTimeout(g,40)):g()}}};return s.__options={blockPointerEvents:r},s}}}]);